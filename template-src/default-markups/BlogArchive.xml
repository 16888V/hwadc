<b:defaultmarkup type='BlogArchive'>
  <b:includable id='main' var='this'>
    <b:include name='widget-title'/>
    <b:include name='content'/>
  </b:includable>
  <b:includable id='content'>
    <div class='widget-content'>
      <div expr:id='data:widget.instanceId + "_ArchiveList"'>
        <b:include cond='data:this.style == "HIERARCHY"' name='hierarchy'/>
        <b:include cond='data:this.style == "FLAT"' name='flat'/>
        <b:include cond='data:this.style == "MENU"' name='menu'/>
      </div>
    </div>
  </b:includable>
  <b:includable id='menu'>
    <select class='archive-select custom-select' onchange='if (this.value) window.location.href=this.value'>
      <option selected='selected' value=''><data:messages.archive/></option>
      <b:loop values='data:data' var='i'>
        <option expr:value='data:i.url'>
          <data:i.name/> (<data:i.post-count/>)
        </option>
      </b:loop>
    </select>
  </b:includable>
  <b:includable id='flat'>
    <ol class='archive-flat list-unstyled mb-0'>
      <b:loop values='data:data' var='i'>
        <li>
          <a expr:href='data:i.url'>
            <data:i.name/> <small>(<data:i.post-count/>)</small>
          </a>
        </li>
      </b:loop>
    </ol>
  </b:includable>
  <b:includable id='hierarchy'>
    <div class='archive-hierarchy'>
      <ol class='archive-hierarchy-yearly list-unstyled mb-0'>
        <b:loop values='data:data' var='i'>
          <li>
            <a aria-expanded='false' class='dropdown-toggle mr-2' data-toggle='collapse' expr:aria-controls='data:i.toggleId' expr:href='"#" + data:i.toggleId'>
              <span class='sr-only'>Toggle <data:i.toggleId/></span>
            </a>
            <a expr:href='data:i.url'>
              <data:i.name/> <small>(<data:i.post-count/>)</small>
            </a>

            <div class='collapse' expr:id='data:i.toggleId'>
              <ul class='archive-hierarchy-monthly list-unstyled pl-4'>
                <b:loop values='data:i.data' var='j'>
                  <li>
                    <b:if cond='data:j.data'>
                      <a aria-expanded='false' class='dropdown-toggle mr-2' data-toggle='collapse' expr:aria-controls='data:j.toggleId' expr:href='"#" + data:j.toggleId'>
                        <span class='sr-only'>Toggle <data:j.toggleId/></span>
                      </a>
                    </b:if>
                    <a expr:href='data:j.url'>
                      <data:j.name/> <small>(<data:j.post-count/>)</small>
                    </a>

                    <b:if cond='data:j.data'>
                      <div class='collapse' expr:id='data:j.toggleId'>
                        <ul class='archive-hierarchy-daily list-unstyled pl-4'>
                          <b:loop values='data:j.data' var='k'>
                            <li>
                              <a expr:href='data:k.url'>
                                <data:k.name/> <small>(<data:k.post-count/>)</small>
                              </a>
                            </li>
                          </b:loop>
                        </ul>
                      </div>
                    </b:if>
                  </li>
                </b:loop>
              </ul>
            </div>
          </li>
        </b:loop>
      </ol>
    </div>
  </b:includable>
  <b:includable id='interval' var='intervals'/>
  <b:includable id='posts' var='posts'/>
</b:defaultmarkup>